<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Lump: Lump game</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Lump game</h1>
<p>
<h3 align="center">1.0 </h3><div align="center">
<img src="lumplogo.png" alt="lumplogo.png">
</div>
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Bernardino Frola</dd></dl>
<h2><a class="anchor" name="intro_sec">
Introduction</a></h2>
Lump is a game developed as project for the university course "Interactive Virtual Environments and Videogames" ("Ambienti Virtuali Interattivi e Videogiochi"), University of Salerno.<h3><a class="anchor" name="contacts_sec">
Contacts</a></h3>
<ul>
<li>The project's page is <a href="http://bernardinofrola.altervista.org/lump/">http://bernardinofrola.altervista.org/lump/</a> </li>
<li>E-mail contact of Bernardino Frola: besaro [AT] tin [DOT] it</li>
</ul>
<h2><a class="anchor" name="devstages_sec">
Development period</a></h2>
The project started in december of 2007 and it closed in june of 2008.<h2><a class="anchor" name="getstarted_sec">
Getting started</a></h2>
This section treats the system requiremnt needed to start the Lump Game.<h3><a class="anchor" name="sysreq_sec">
Hardware requirements</a></h3>
The suggest harwdare to run Lump at a playeble frame rate is:<p>
<ul>
<li>P4 1.5 Ghz; </li>
<li>256Mb of RAM; </li>
<li>Graphics card ATI Radeon x700/nVidia GeForce 7000 series with 64Mb of RAM; </li>
<li>100Mb of free space on the hard disk.</li>
</ul>
<h3><a class="anchor" name="softreq_sec">
Software requirements</a></h3>
<ul>
<li>Installed Microsoft DirectX 9 or OpenGL APIs.</li>
</ul>
<h2><a class="anchor" name="overview_sec">
Overview</a></h2>
In this section is treated the game interface and the game use cases.<h3><a class="anchor" name="hud_sec">
HUD and scenario elements</a></h3>
The HUD is showed in the figure below.<p>
<div align="center">
<img src="hud.png" alt="hud.png">
</div>
<p>
Other than the HUD, the figure highlights the ship, player flock and some elements of the scenario, such as planets and asteroids.<h4><a class="anchor" name="flockinfo_sec">
Flock info</a></h4>
Now, let we see in detail, the informations about the flocks, reported on the left side of the HUD, that are, three values:<p>
<ul>
<li>Items: the number of flock items is decsribed in the form: Injuried items / Active items / Max flock items. An item is injuried when its energy is lower than 1/3 of the max energy, while is active when its energy is greater than 0. </li>
<li>Speed: The current speed of the flock, to be more precise, is the average of the current speed of each items. </li>
<li>Energy: Average of the items energy, comparated to the initial energy, e. g.: Current energy / Initial energy.</li>
</ul>
<h4><a class="anchor" name="shipinfo_sec">
Ship info</a></h4>
The player-ship informations, on the right side of the screen, show three values:<p>
<ul>
<li>Energy. </li>
<li>Speed. </li>
<li>Radar#: the number of the neighbors enemies.</li>
</ul>
<h3><a class="anchor" name="gamepurpose_sec">
Game purpose</a></h3>
The purpose of the game is to destroy all the flock neast, similar to red asteroids, and defend his ship and his flock from the enemy-flock attacks.<h3><a class="anchor" name="gaming_sec">
Gaming</a></h3>
The world is diveded into a several number of sub-world, called sectors. Each world-sector has a certain number of resident enemy-flocks, and a certain number of scenario objects, such as planets or asteroids.<p>
Thus, the player moves, through his ship, alongs different sectors, but only a sector at time is active, the nearest one to the player-ship.<p>
All the enemy-flocks of the active sector try to attack the player when he enters into the enemy-flock invisible range area.<p>
The game is focused on the battle between flocks. The player has only one weapon available: its flock.<p>
There are two manner to use the flock as a defence/attack weapon: continuos, single-shot. During each of this attacks mode, the flock shows a "energy burst effect", that is, a lot of lightning near the flock center.<h4><a class="anchor" name="enemyflocks_sec">
Enemy-flocks</a></h4>
There are tho type of enemy flocks:<p>
<ul>
<li>Green flocks: this flocks have more energy and are slower and less slick of the red flocks. </li>
<li>Red flocks: this flocks are more slick of the green ones, because it tries to avoid the player-flock attacks. More, this type of flock is more</li>
</ul>
<h4><a class="anchor" name="continuosattack_sec">
Continuos attack/defence</a></h4>
Simply, by using the left mouse button, the player move flock toward a given target. The target is placed in the direction of the camera. The distance of the target to the camera position is fixed when the player do not aim any enemy-flock (figure below).<p>
<div align="center">
<img src="continuos1.png" alt="continuos1.png">
</div>
<p>
When the player aims a enemy-flock, then the distance of the the target is setted to the distance of the enemy-flock selected. In this mode the player-flock attacks the selected enemy-flock.<p>
<div align="center">
<img src="continuos2.png" alt="continuos2.png">
</div>
<p>
This functions is useful to collapse the flock to a restricted area.<h4><a class="anchor" name="sinshotattack_sec">
Singe-shot attack</a></h4>
The single-shot attack allows the player to use the whole flock as rocket launchers's slug. The player eneble this attack pressing on the right mouse button. The single-shot attack have three phases: flock group, power charging and shot. The first one group the flock to the right-bottom of the camera.<p>
<div align="center">
<img src="singleshot1.png" alt="singleshot1.png">
</div>
<p>
In the second phase, the player charge the lower bar, by pressing on the left mouse button (without releasing the right button). The third phase is activated when the player release the left mouse button (the right button is still pressed). Now the flock move at very-high speed toward the camera direction (the speed is up to 10 times the continuos attack speed).<p>
<div align="center">
<img src="singleshot2.png" alt="singleshot2.png">
</div>
<h4><a class="anchor" name="itemsreact_sec">
Flock-items reactivation</a></h4>
When the flock impacts any object, some its items can deactivate (item's energy goes to 0). An item deactivated is steady. The player can to reactivate items, simply by moving the flock during the attack (continuos or single-shot) near them.<h4><a class="anchor" name="energyrecovery_sec">
Ship energy recovery</a></h4>
The player-ship when impact any object leak a lot of energy. To recover the lost energy, the player must to destroy the energy-asteroids. The energy-asteroids are blu asteroids, smaller than the normal (brown) asteroids placed into the scenario.<h3><a class="anchor" name="mousekey_sec">
Mouse/keyboard mapping</a></h3>
Movement/game <ul>
<li>[Mouse x/y]: Camera </li>
<li>[W] [S]: Playership engine power (increase/decrease) </li>
<li>[A] [D] [X]: Playership direction (left/right/back) </li>
<li>[LSHIFT]: Start/end slow motion </li>
<li>[LCTRL]: Move camera with mouse </li>
<li>[SPACE]: Lock playership direction</li>
</ul>
Flock <ul>
<li>[Mouse Left-button]: Attack target/Collapse flock </li>
<li>[Mouse Right-button]: Camera zoom/One shot attack mode</li>
</ul>
Others <ul>
<li>[ESC]: Pause/resume game</li>
</ul>
<h2><a class="anchor" name="teciss_sec">
Technical issues</a></h2>
<h3><a class="anchor" name="ogre_sec">
Ogre rendering engine and development</a></h3>
The Lump Game is based on the Ogre rendering engine, version 1.2.5.<p>
The game-application is written in C++, using the develop evironment Visual Studio 2005 Express Edition.<p>
The code is commented with Doxygen 1.5.6.<p>
The 3D model of the player-ship and flocks items are taken from the "Free-game-models-collection", while the asteroids are modelled ad-hoc.<h3><a class="anchor" name="opensteer_sec">
OpenSteer(r) library</a></h3>
Some operation as: <ul>
<li>Flocking; </li>
<li>Target pursuiting; </li>
<li>Target avoiding; </li>
<li>Collision avoiding.</li>
</ul>
are developed through the facilities of the OpenSteer library. This library provide a set of low-level artificial intelligence behavioral function, called steering function.<h3><a class="anchor" name="world_sec">
World subdivision - Level of detail (LOD)</a></h3>
The figure below show the world-sector status:<p>
<div align="center">
<img src="sectorization.png" alt="sectorization.png">
</div>
<p>
The nearst sector to the player-ship is the Active sector. When the player ship enter into a sector range radius, then, the sector becomve Visible, otherwise, the sector is Hidden.<p>
Depending on the status of the sector a certain level of detail is adopted: <ul>
<li>Active: all the object are updated and visible. </li>
<li>Visible: all the object are not updated, only the static asteroid and planets are visible. </li>
<li>Hidden: all the object are not updated, only the planets are visible.</li>
</ul>
All the hide/show operation are smoothed. This allow to reduce the impact of the vaiable level of detail.<h3><a class="anchor" name="ps_sec">
Particle systems and pools</a></h3>
Wakes, esplosion and sparks are particle systems. While wakes are not optimized because each object must to have a dedicated effect, esplosion and sparks are upper-bounded.<p>
<ul>
<li>Sparks: showed at any impact between two object. </li>
<li>Energy explosion: showed when a flock slams an other object. </li>
<li>Asteroid explosion: showed when an asteroid is destroyed.</li>
</ul>
For each of the former effect, there is a dedicated pool. Each pool preallocate a certain number of object and deactivate them. When an impact occours, the next ready element of the pool is started. This classical optimization allow to use at most a number equal the pool size of particle systems.<h3><a class="anchor" name="neighbors_sec">
Neighborhood and collisions detection</a></h3>
We use the OpenSteer's embededded proximity database to find the neighbors of any object.<p>
The following figure show how the collision are detected between flocks - flocks and flocks - other objects.<p>
<div align="center">
<img src="flockcollisions.png" alt="flockcollisions.png">
</div>
<p>
In this case, neighbors are: Enemy-flock1, Obstacle1, Obstacle2.<p>
With exaustive distance calculation over all neighbors, is decided whether or not there is a collision.<p>
To improve the collision detection performance the neighbors area have a variable radius. When the neighbors number go over a certain threshold, as illustrated into the next diagram, the radius is reduced. Vice versa, when too few neighbors are into the area, the radius is augmented.<p>
<div align="center">
<img src="flockneighborhood.png" alt="flockneighborhood.png">
</div>
<h3><a class="anchor" name="conf_sec">
Configuration files</a></h3>
The Lump Game uses two configuration files:<p>
<ul>
<li>Lump.cfg: general parameter (game speed, camera type, mouse speed, particle systems pools, scene config file name, ...), loggers size, ships and flocks configurations. </li>
<li>LumpScene.cfg (default name): the scene configuration (fog, skybox, ...), sectors (number, position, size, ...), asteroids distribuition, enemy-flocks locations.</li>
</ul>
<h2><a class="anchor" name="future_sec">
Future works and extensions</a></h2>
Several key poits are to be added/improved to the game:<p>
<ul>
<li>Improve the mission goals; </li>
<li>Augment the scenario complexity; </li>
<li>Create other types of enemy-flocks, such as, scouts, defender, explorer, ...; </li>
<li>Create the allies; </li>
<li>Create the player base; </li>
<li>Create compex asteroids (not spherical); </li>
<li>Improve the 3D models; </li>
<li>Improve the enemy AI; </li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jun 27 19:00:03 2008 for Lump by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
